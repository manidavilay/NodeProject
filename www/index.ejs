<!-- Importer le header en EJS -->
<%- include('statics/header') -%>

<main>
    <h2>Page protégée</h2>

    <h3>Ajouter un article</h3>
    <%- include('components/form-post') -%>

    <h3>Liste des articles</h3>
        <% for(let item of data.data) { %>
            <li class="articles-list">
                <p>Author: <%- item.author.givenName %> <%- item.author.familyName %></p>
                <h4><%- item.headline %></h4>
                <a href="/post/<%- item._id %>">Voir plus</a>
            </li>
            <form name="like_form" id="like_form" action="/like" method="POST">
                <input type="hidden" name="post" id="post" value="<%- item._id %>">
                <button type="submit" id="like-btn">J'aime</button>
            </form>
            <%- item.likes.length %>
        <% } %>
    <ul>
</main>

<!-- Importer le footer en EJS -->
<%- include('statics/footer') -%>  